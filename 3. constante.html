<!doctype html>
<html lang='es'>
<head>
   <meta charset='utf-8'>
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1">
   <link rel="stylesheet" href="styles.css">
   <script src="http://code.jquery.com/jquery-latest.min.js" type="text/javascript"></script>
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css">
   <title>Números Aleatorios</title>
</head>
<body>

	<div id='cssmenu'>
	<ul>
	   <li><a href='index.html'>Inicio</a></li>
	   <li><a href='1. cuadradosmedios.html'>Cuadrados Medios</a></li>
	   <li><a href='2. productosmedios.html'>Productos Medios</a></li>
	   <li  class='active'><a href='3. constante.html'>Multiplicador Constante</a></li>
	   <li><a href='4. lineal.html'>Lineal</a></li>
	   <li><a href='5. multiplicativo.html'>Multiplicativo</a></li>
	   <li><a href='6. aditivo.html'>Aditivo</a></li>
	   <li><a href='7. cuadratico.html'>Cuadrático</a></li>
	   <li><a href='8. BlumBlumyShub.html'>BlumBlum&Shub</a></li>
	</ul>
	</div>

	<div class="container">
		<h2 class="text-center">ALGORITMO MULTIPLICADOR CONSTANTE</h2><hr>
		<div class="row">
			<div class="col-md-4 ">
				<h3>formula: </h3>
				<!-- <p>x[1] = (a*x[0])mod(m)</p>
				<p>r[1] = x[1]/z</p>
				<p>m = 2^g</p>
				<p>a = 5+8*k</p>
				<p>k = 0,1,2,...</p>
				<p>x[0] = número impar</p>
				<p>g = numero entero</p> -->
				<p>n = numero de iteraciones</p>
			</div>

			<div class="col-md-4 container form-inline">
				<div class="form-group mx-sm-3 mb-2 ">
					<label for="n" class="">n:</label>
					<input type="text" id="n" class="form-control" value="10">
				</div>
				<div class="form-group mx-sm-3 mb-2 ">
					<label for="constante" class="">constante:</label>
					<input type="text" id="constante" class="form-control" value="6965">
				</div>
				<div class="form-group mx-sm-3 mb-2 ">
					<label for="x" class="">x[0]:</label>
					<input type="text" id="x0" class="form-control" value="9803">
				</div>
				<button type="submit" class="btn btn-primary btn-block" id="enviar">generar</button>
			</div>

			<div class="col-md-4 container">
				<h4>Resultados: </h4>
				<div id="outputDiv"></div>
			</div>
		</div>
	</div>
	
	<script>

		document.getElementById('enviar').onclick = function(){
			var x = [],r = [],digito,constante; 
			x[0] = parseInt(document.getElementById('x0').value);  
			// x[1] = parseInt(document.getElementById('x1').value);  
			var d = datos();
			var HTML = "<table class='table table-striped table-bordered text-center'>";

			HTML += "<tr><td >Raiz</td><td >Valor</td></tr>";
			for (var i = 1; i <= d.n; i++) {
				x[i] = d.constante*x[i-1];
				digito = x[i].toString();
				//digitoLength = digito.length.toString();
				console.log('xi: '+x[i],digito.length);
				if ( (digito.length%2 ===0 ) && digito.length === 8 ) 
				{
					digito = digito.substring(2,6);
					console.log('a');
				}
				else
				{
					(digito.length === 5) ? digito = digito.substring(0,4) : digito = digito.substring(1,5);
					console.log('b');
				}
				r[i] = "0,"+digito;
				x[i] = parseInt(digito);
				console.log('=> '+digito);

				console.log(r[i]);
				HTML += "<tr><td>r"+i+"</td><td>"+r[i]+"</td></tr>";
			}

			HTML += "</table>";
			document.getElementById("outputDiv").innerHTML = HTML;

		}

		// funcion de retorno de datos
		function datos(){
			return{
				// g: parseInt(document.getElementById("g").value),
				// k: document.getElementById('k').value,
				n: document.getElementById('n').value,
				constante: document.getElementById('constante').value,
			}
		}
	</script>
</body>
</html>